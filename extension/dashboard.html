<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>인구통계 대시보드</title>
  <link rel="stylesheet" href="leaflet.css">
  <link rel="stylesheet" href="dashboard.css">
</head>
<body>

  <header id="dash-header">
    <div class="header-left">
      <div class="header-icon">📊</div>
      <div>
        <h1>60~79세 여성 인구통계</h1>
        <p class="header-sub">행정안전부 주민등록 인구통계 수집 데이터</p>
      </div>
    </div>
  </header>


  <div id="filter-bar">
    <div class="filter-group">
      <label>시 / 도</label>
      <select id="f-sido"><option value="">전체</option></select>
    </div>
    <div class="filter-group">
      <label>시 / 군 / 구</label>
      <select id="f-sigungu"><option value="">전체</option></select>
    </div>
    <div class="filter-group">
      <label>동 / 읍 / 면</label>
      <select id="f-dong"><option value="">전체</option></select>
    </div>
    <div id="tree-ctrl-group" class="filter-group" style="margin-left:auto; gap:6px;">
      <button id="btn-expand-all" class="btn-tree-ctrl">모두 펼치기</button>
      <button id="btn-collapse-all" class="btn-tree-ctrl">모두 접기</button>
    </div>
    <span id="row-count" class="row-count">0건</span>
  </div>

  <div id="tab-bar">
    <button class="tab-btn active" data-tab="table">표</button>
    <button class="tab-btn" data-tab="map">지도</button>
  </div>

  <div id="tab-panels">

    <div id="tab-table" class="tab-panel active">
      <div id="table-wrap">
        <table id="main-table">
          <thead>
            <tr>
              <th class="col-region sortable" data-sort="name">
                지역 <span class="sort-icon" id="sort-name">⇅</span>
              </th>
              <th class="col-num sortable" data-sort="pop60">
                60-69세 여성 <span class="sort-icon" id="sort-pop60">⇅</span>
              </th>
              <th class="col-num sortable" data-sort="pop70">
                70-79세 여성 <span class="sort-icon" id="sort-pop70">⇅</span>
              </th>
              <th class="col-num sortable" data-sort="population">
                60~79세 합계 <span class="sort-icon active" id="sort-population">▼</span>
              </th>
            </tr>
          </thead>
          <tbody id="tbody"></tbody>
        </table>
        <div id="empty-msg">
          <div class="empty-icon">📭</div>
          <p>저장된 데이터가 없습니다.</p>
          <p class="empty-sub">행정안전부 인구통계 페이지에서 데이터를 수집해주세요.</p>
          <a href="https://jumin.mois.go.kr/ageStatMonth.do" target="_blank" class="btn-go">사이트 바로가기 →</a>
        </div>
      </div>
    </div>

    <div id="tab-map" class="tab-panel">
      <div id="map-level-bar">
        <span class="map-level-label">표시:</span>
        <label class="map-cb-label"><input type="checkbox" id="cb-sido"> 도/시</label>
        <label class="map-cb-label"><input type="checkbox" id="cb-sg"> 시/군/구</label>
        <label class="map-cb-label"><input type="checkbox" id="cb-dong"> 동/읍/면</label>
      </div>
      <div id="map-zoom-info">줌: - | -</div>
      <div id="map-container"></div>
    </div>

  </div>

  <script src="leaflet.js"></script>
  <script src="dashboard.js"></script>
</body>
</html>
